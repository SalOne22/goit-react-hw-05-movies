{"version":3,"file":"static/js/134.dc8790dd.chunk.js","mappings":"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","sources":["components/MovieList/MovieItem.jsx","components/MovieList/MovieList.jsx","components/Section.jsx","pages/Movies.jsx","service/api.js","utils/getImage.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getPosterURL } from 'utils';\n\nexport const MovieItem = ({ id, poster_path, title, overview }) => {\n  const location = useLocation();\n\n  return (\n    <li\n      className=\"rounded-xl bg-slate-200 p-2 shadow-md\n          hover:-translate-y-1 focus-within:-translate-y-1 transition-transform\n          motion-reduce:transition-none\"\n    >\n      <Link to={`/movies/${id}`} state={{ from: location }} className=\"flex\">\n        <img\n          srcSet={\n            poster_path\n              ? `${getPosterURL('w185', poster_path)} 1x,\n                  ${getPosterURL('w342', poster_path)} 2x`\n              : 'https://placehold.co/185x278?text=No+Poster'\n          }\n          src={\n            poster_path\n              ? getPosterURL('w185', poster_path)\n              : 'https://placehold.co/185x278?text=No+Poster'\n          }\n          width={92}\n          height={138}\n          alt={poster_path ? `Poster for ${title}` : 'No poster'}\n          className=\"object-contain mr-4 rounded-lg w-[92px]\"\n        />\n\n        <div>\n          <h3 className=\"text-lg font-medium text-slate-600\">{title}</h3>\n          <p className=\"line-clamp-3\">{overview}</p>\n        </div>\n      </Link>\n    </li>\n  );\n};\n\nMovieItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  poster_path: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  overview: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { MovieItem } from './MovieItem';\n\nexport const MovieList = ({ movies = [] }) => {\n  return (\n    <ul className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-4\">\n      {movies.map(({ id, poster_path, title, overview }) => (\n        <MovieItem\n          key={id}\n          id={id}\n          poster_path={poster_path}\n          title={title}\n          overview={overview}\n        />\n      ))}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <section className=\"py-6\">\n      <div className=\"container\">\n        {title && (\n          <h2 className=\"text-2xl font-semibold text-slate-800 mb-4\">\n            {title}\n          </h2>\n        )}\n        {children}\n      </div>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { Section } from 'components/Section';\nimport { MovieList } from 'components/MovieList';\nimport { Spinner } from 'components/Spinner';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'service/api';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [params, setParams] = useSearchParams();\n\n  const handleSearch = e => {\n    e.preventDefault();\n\n    const query = e.currentTarget.query.value.trim();\n\n    if (!query) return toast('Please enter something...');\n\n    setParams({ query });\n  };\n\n  useEffect(() => {\n    const query = params.get('query');\n\n    if (!query) return;\n\n    const updateMovieList = async () => {\n      try {\n        const movies = await fetchMoviesByQuery(query);\n\n        if (movies.results.length === 0)\n          toast.error('Sorry, but be cant find any movies by your request');\n\n        setMovies(movies.results);\n      } catch (error) {\n        console.error(error);\n        toast.error(error.message);\n        setMovies([]);\n      }\n    };\n\n    updateMovieList();\n  }, [params]);\n\n  return (\n    <Section>\n      <form onSubmit={handleSearch} autoComplete=\"off\" className=\"mb-2\">\n        <input\n          name=\"query\"\n          type=\"text\"\n          placeholder=\"Search...\"\n          className=\"bg-white rounded-l px-1 py-0.5 outline-none\n          border-l-2 border-y-2 border-white focus-visible:border-slate-200\n          transition-colors\"\n        />\n        <button\n          className=\"bg-lime-200 text-slate-700 text-medium px-1 py-0.5\n          rounded-r border-r-2 border-y-2 border-lime-200\n          hover:border-lime-300 transition-colors active:bg-lime-300\"\n        >\n          Search\n        </button>\n      </form>\n\n      {movies ? <MovieList movies={movies} /> : <Spinner />}\n    </Section>\n  );\n};\n\nexport default Movies;\n","const BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYjE3NzU3ZjU2ZDg1NmM5YzE2MmE1OWEzZWZlMmY5MyIsInN1YiI6IjY0NzhkNWZjOWI2ZTQ3MDBkZThlOTBlZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BE22YVTai34Dh5C1jSxEZ2DzzjnxJfKFgEIpWS2JFcI',\n  },\n};\n\nexport const fetchTrendingMovies = () =>\n  fetch(`${BASE_URL}/trending/movie/day?language=en-US`, options)\n    .then(response => {\n      checkResponse(response);\n\n      return response;\n    })\n    .then(response => response.json());\n\nexport const fetchMoviesByQuery = async query => {\n  const params = new URLSearchParams({\n    query,\n    include_adult: false,\n    language: 'en-US',\n    page: 1,\n  });\n\n  const response = await fetch(`${BASE_URL}/search/movie?${params}`, options);\n\n  checkResponse(response);\n\n  return await response.json();\n};\n\nexport const fetchMovieDetails = async id =>\n  fetch(`${BASE_URL}/movie/${id}?language=en_US`, options)\n    .then(response => {\n      checkResponse(response);\n\n      return response;\n    })\n    .then(response => response.json());\n\nexport const fetchMovieCast = async id =>\n  fetch(`${BASE_URL}/movie/${id}/credits?language=en_US`, options)\n    .then(response => {\n      checkResponse(response);\n\n      return response;\n    })\n    .then(response => response.json());\n\nexport const fetchMovieReviews = async id =>\n  fetch(`${BASE_URL}/movie/${id}/reviews?language=en-US&page=1`, options)\n    .then(response => {\n      checkResponse(response);\n\n      return response;\n    })\n    .then(response => response.json());\n\nconst checkResponse = response => {\n  if (!response.ok) {\n    let err = new Error(`HTTP status: ${response.status}`);\n\n    err.response = response;\n    err.status = response.status;\n\n    throw err;\n  }\n};\n","const poster_sizes = [\n  'w92',\n  'w154',\n  'w185',\n  'w342',\n  'w500',\n  'w780',\n  'original',\n];\n\nconst profile_sizes = ['w45', 'w185', 'h632', 'original'];\n\nconst BASE_URL = 'https://image.tmdb.org/t/p';\n\n/**\n * Get complete URL of the poster image\n * @param {('w92'|'w154'|'w185'|'w342'|'w500'|'w700'|'original')} size Size of the poster image\n * @param {string} url URL of the poster image\n * @returns Complete poster image URL\n */\nexport const getPosterURL = (size, url) => {\n  if (!poster_sizes.includes(size)) return `${BASE_URL}/original${url}`;\n\n  return `${BASE_URL}/${size}${url}`;\n};\n\n/**\n * Get complete URL of the profile image\n * @param {('w45'|'w185'|'h632'|'original')} size Size of the profile image\n * @param {string} url URL of the profile image\n * @returns Complete profile image URL\n */\nexport const getProfileURL = (size, url) => {\n  if (!profile_sizes.includes(size)) return `${BASE_URL}/original${url}`;\n\n  return `${BASE_URL}/${size}${url}`;\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MovieItem","id","poster_path","title","overview","location","useLocation","className","to","state","from","srcSet","getPosterURL","src","width","height","alt","MovieList","movies","map","Section","children","useState","setMovies","useSearchParams","params","setParams","useEffect","query","get","updateMovieList","fetchMoviesByQuery","results","length","toast","console","error","message","onSubmit","e","preventDefault","currentTarget","value","trim","autoComplete","name","type","placeholder","BASE_URL","options","method","headers","accept","Authorization","fetchTrendingMovies","fetch","then","response","checkResponse","json","URLSearchParams","include_adult","language","page","fetchMovieDetails","fetchMovieCast","fetchMovieReviews","ok","err","Error","status","poster_sizes","profile_sizes","size","url","includes","getProfileURL","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}